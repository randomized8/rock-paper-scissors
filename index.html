<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    <h1>Welcome to a deadly game of Rock Paper Scissors against an evil supercomputer!</h1>

    <script>
        
        const rock = `rock`
        const paper = `paper`
        const scissors = `scissors`

        let computerChoice;
        let playerChoice;
        let didPlayerWin;
        let isTie;
        let playerScore = 0;
        let computerScore = 0;

        function getComputerChoice() {
            let randomNumber = Math.floor(Math.random() * 3) +1;
            if(randomNumber === 1) {
                computerChoice = rock;
            }
            else if(randomNumber === 2) {
                computerChoice = paper;
            }
            else {
                computerChoice = scissors;
            }

        }

        /*
        function randomPlayerChoice() {
            let randomNumber = Math.floor(Math.random() * 3) +1;
            if(randomNumber === 1) {
                playerChoice = rock;
            }
            else if(randomNumber === 2) {
                playerChoice = paper;
            }
            else {
                playerChoice = scissors;
            }
        }
        */

        function getPlayerChoice() {

            playerChoice = prompt('Please select rock, paper, or scissors');
            playerChoice=playerChoice.toLowerCase();

            if (playerChoice !== rock && playerChoice !== paper && playerChoice !== scissors){
         do {
            playerChoice = prompt('Please enter a valid choice: "Rock", "Paper", or "Scissors"');
            playerChoice=playerChoice.toLowerCase();

         }while(playerChoice !== rock && playerChoice !== paper && playerChoice !== scissors);
            }
        }

        function getWinner() {
            if (playerChoice === computerChoice) {
                isTie = true;
                didPlayerWin = undefined;
            }else if (playerChoice === rock && computerChoice === scissors || playerChoice === paper && computerChoice === rock || playerChoice === scissors && computerChoice === paper) {
                isTie = false;
                didPlayerWin = true;
            }else {
                isTie = false;
                didPlayerWin = false;
            }

        }

        function startGame() {
            isGameStarted = true;
        }



        function game() {
            console.log("Welcome to Rock-Paper-Scissors against an evil super computer. There will be five rounds, ties don't count. If you win more than the computer you leave with your life. Press any key to begin");


                for(i=0; i < 5; i++) {
                    getPlayerChoice();
                    getComputerChoice();
                    getWinner();
                    if (isTie === true){
                        console.log("it's a tie! try again.")
                        i--;
                    }else if (didPlayerWin === true) {
                        console.log("You win! " + playerChoice + " beats " + computerChoice);
                        playerScore++;
                    }else if (isTie === false && didPlayerWin === false) {
                        console.log("You lose! " + computerChoice + " beats " + playerChoice);
                        computerScore++;
                    }
                }
                if (playerScore > computerScore) {
                    console.log("You have defeated the supercomputer! You may live");
                }else {
                    console.log("The supercomputer has defeated you, pay with you LIFE!");
                }
        }

        game();

        
        
       /*
        for (i = 0; i < 100; i++) {
        game();
        }
        */
        


        

    </script>
</body>
</html>